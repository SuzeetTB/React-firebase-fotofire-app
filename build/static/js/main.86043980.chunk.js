(this.webpackJsonpfotofire=this.webpackJsonpfotofire||[]).push([[0],{24:function(e,t,c){},28:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(18),s=c.n(i),r=(c(24),c(8)),l=c(15),o=c(12);c(32),c(33);o.a.initializeApp({apiKey:"AIzaSyDhl_u_R7uLik9uzhK712fxtBIrlAhLj1M",authDomain:"react-firebase-deeb3.firebaseapp.com",projectId:"react-firebase-deeb3",storageBucket:"react-firebase-deeb3.appspot.com",messagingSenderId:"154759190553",appId:"1:154759190553:web:2e234bec1c95c66b7d7288"});var j=o.a.storage(),u=o.a.firestore(),d=o.a.firestore.FieldValue.serverTimestamp,b=function(e){var t=Object(a.useState)([]),c=Object(r.a)(t,2),n=c[0],i=c[1];return Object(a.useEffect)((function(){var t=u.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),i(t)}));return function(){t()}}),[e]),{docs:n}},m=c(36),h=c(3),f=function(e){var t=e.setSelectedImg,c=b("images").docs;return Object(h.jsx)("div",{className:"img-grid",children:c&&c.map((function(e){return Object(h.jsx)(m.a.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},s:!0,onClick:function(){return t(e.url)},children:Object(h.jsx)(m.a.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5}})},e.id)}))})},O=function(e){var t=e.setSelectedImg,c=e.selectedImg;return Object(h.jsx)(m.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&t(null)},initial:{opacity:0},animate:{opacity:1},children:Object(h.jsx)(m.a.img,{src:c,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}})})},p=function(){return Object(h.jsx)("div",{className:"title",children:Object(h.jsx)("h2",{children:"My Pictures"})})},v=c(14),g=c.n(v),x=c(19),y=function(e){var t=Object(a.useState)(0),c=Object(r.a)(t,2),n=c[0],i=c[1],s=Object(a.useState)(null),l=Object(r.a)(s,2),o=l[0],b=l[1],m=Object(a.useState)(null),h=Object(r.a)(m,2),f=h[0],O=h[1];return Object(a.useEffect)((function(){var t=j.ref(e.name),c=u.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;i(t)}),(function(e){b(e)}),Object(x.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:a=e.sent,n=d(),c.add({url:a,createdAt:n}),O(a);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:n,url:f,error:o}},k=function(e){var t=e.file,c=e.setFile,n=y(t),i=n.url,s=n.progress;return console.log(s,i),Object(a.useEffect)((function(){i&&c(null)}),[i,c]),Object(h.jsx)(m.a.div,{className:"progress-bar",initial:{width:0},animate:{width:s+"%"}})},N=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),c=t[0],i=t[1],s=Object(a.useState)(null),l=Object(r.a)(s,2),o=l[0],j=l[1],u=["image/png","image/jpeg"];return Object(h.jsx)(n.a.Fragment,{children:Object(h.jsxs)("form",{children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&u.includes(t.type)?(i(t),j("")):(i(null),j("Please select a valid Image file only. [png,jpeg]"))}}),Object(h.jsx)("span",{children:"+"})]}),Object(h.jsxs)("div",{className:"output",children:[o&&Object(h.jsxs)("div",{className:"error",children:[o," "]}),c&&Object(h.jsxs)("div",{children:[c.name," "]}),c&&Object(h.jsx)(k,{file:c,setFile:i})]})]})})},S=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)("theme-white"),s=Object(r.a)(i,2),l=s[0],o=s[1];Object(a.useEffect)((function(){var e=localStorage.getItem("theme-color");e&&o(e)}),[]);var j=function(e){o(e),localStorage.setItem("theme-color",e)};return Object(h.jsxs)("div",{className:"App ".concat(l),children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("div",{className:"head-title",children:Object(h.jsx)("h2",{children:"fotofire"})}),Object(h.jsxs)("div",{className:"theme-option",children:[Object(h.jsx)("div",{id:"theme-white",onClick:function(){j("theme-white")},className:"".concat("theme-white"===l?"active":"")}),Object(h.jsx)("div",{id:"theme-blue",onClick:function(){j("theme-blue")},className:"".concat("theme-blue"===l?"active":"")}),Object(h.jsx)("div",{id:"theme-orange",onClick:function(){j("theme-orange")},className:"".concat("theme-orange"===l?"active":"")}),Object(h.jsx)("div",{id:"theme-purple",onClick:function(){j("theme-purple")},className:"".concat("theme-purple"===l?"active":"")}),Object(h.jsx)("div",{id:"theme-green",onClick:function(){j("theme-green")},className:"".concat("theme-green"===l?"active":"")}),Object(h.jsx)("div",{id:"theme-black",onClick:function(){j("theme-black")},className:"".concat("theme-black"===l?"active":"")})]})]}),Object(h.jsxs)("div",{className:"content-box",children:[Object(h.jsx)(p,{}),Object(h.jsx)(N,{}),Object(h.jsx)(f,{setSelectedImg:n}),c&&Object(h.jsx)(O,{selectedImg:c,setSelectedImg:n})]})]})};c(28),c(29);var I=function(){return Object(h.jsx)(S,{})};s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(I,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.86043980.chunk.js.map