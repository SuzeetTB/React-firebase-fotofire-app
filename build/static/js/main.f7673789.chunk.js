(this.webpackJsonpfotofire=this.webpackJsonpfotofire||[]).push([[0],{36:function(e,t,c){},40:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(28),s=c.n(i),r=(c(36),c(30)),l=c(4),o=c(12),j=c(25),u=c(19);c(49),c(50);u.a.initializeApp({apiKey:"AIzaSyDhl_u_R7uLik9uzhK712fxtBIrlAhLj1M",authDomain:"react-firebase-deeb3.firebaseapp.com",projectId:"react-firebase-deeb3",storageBucket:"react-firebase-deeb3.appspot.com",messagingSenderId:"154759190553",appId:"1:154759190553:web:2e234bec1c95c66b7d7288"});var d=u.a.storage(),b=u.a.firestore(),m=u.a.firestore.FieldValue.serverTimestamp,h=function(e){var t=Object(a.useState)([]),c=Object(o.a)(t,2),n=c[0],i=c[1];return Object(a.useEffect)((function(){var t=b.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id}))})),i(t)}));return function(){t()}}),[e]),{docs:n}},f=c(52),O=c(2),p=function(e){var t=e.setSelectedImg,c=h("images").docs;return Object(O.jsx)("div",{className:"img-grid",children:c&&c.map((function(e){return Object(O.jsx)(f.a.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},s:!0,onClick:function(){return t(e.url)},children:Object(O.jsx)(f.a.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5}})},e.id)}))})},v=function(e){var t=e.setSelectedImg,c=e.selectedImg;return Object(O.jsx)(f.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&t(null)},initial:{opacity:0},animate:{opacity:1},children:Object(O.jsx)(f.a.img,{src:c,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}})})},x=function(){return Object(O.jsx)("div",{className:"title",children:Object(O.jsx)("h2",{children:"My Pictures"})})},g=c(22),y=c.n(g),N=c(29),S=function(e){var t=Object(a.useState)(0),c=Object(o.a)(t,2),n=c[0],i=c[1],s=Object(a.useState)(null),r=Object(o.a)(s,2),l=r[0],j=r[1],u=Object(a.useState)(null),h=Object(o.a)(u,2),f=h[0],O=h[1];return Object(a.useEffect)((function(){var t=d.ref(e.name),c=b.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;i(t)}),(function(e){j(e)}),Object(N.a)(y.a.mark((function e(){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:a=e.sent,n=m(),c.add({url:a,createdAt:n}),O(a);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:n,url:f,error:l}},k=function(e){var t=e.file,c=e.setFile,n=S(t),i=n.url,s=n.progress;return console.log(s,i),Object(a.useEffect)((function(){i&&c(null)}),[i,c]),Object(O.jsx)(f.a.div,{className:"progress-bar",initial:{width:0},animate:{width:s+"%"}})},I=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),c=t[0],i=t[1],s=Object(a.useState)(null),r=Object(o.a)(s,2),l=r[0],j=r[1],u=["image/png","image/jpeg"];return Object(O.jsx)(n.a.Fragment,{children:Object(O.jsxs)("form",{children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&u.includes(t.type)?(i(t),j("")):(i(null),j("Please select a valid Image file only. [png,jpeg]"))}}),Object(O.jsx)("span",{children:"+"})]}),Object(O.jsxs)("div",{className:"output",children:[l&&Object(O.jsxs)("div",{className:"error",children:[l," "]}),c&&Object(O.jsxs)("div",{children:[c.name," "]}),c&&Object(O.jsx)(k,{file:c,setFile:i})]})]})})},w=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)("theme-white"),s=Object(o.a)(i,2),r=s[0],l=s[1];Object(a.useEffect)((function(){var e=localStorage.getItem("theme-color");e&&l(e)}),[]);var j=function(e){l(e),localStorage.setItem("theme-color",e)};return Object(O.jsxs)("div",{className:"App ".concat(r),children:[Object(O.jsxs)("div",{className:"head",children:[Object(O.jsx)("div",{className:"head-title",children:Object(O.jsx)("h2",{children:"fotofire"})}),Object(O.jsxs)("div",{className:"theme-option",children:[Object(O.jsx)("div",{id:"theme-white",onClick:function(){j("theme-white")},className:"".concat("theme-white"===r?"active":"")}),Object(O.jsx)("div",{id:"theme-blue",onClick:function(){j("theme-blue")},className:"".concat("theme-blue"===r?"active":"")}),Object(O.jsx)("div",{id:"theme-orange",onClick:function(){j("theme-orange")},className:"".concat("theme-orange"===r?"active":"")}),Object(O.jsx)("div",{id:"theme-purple",onClick:function(){j("theme-purple")},className:"".concat("theme-purple"===r?"active":"")}),Object(O.jsx)("div",{id:"theme-green",onClick:function(){j("theme-green")},className:"".concat("theme-green"===r?"active":"")}),Object(O.jsx)("div",{id:"theme-black",onClick:function(){j("theme-black")},className:"".concat("theme-black"===r?"active":"")})]})]}),Object(O.jsxs)("div",{className:"content-box",children:[Object(O.jsx)(x,{}),Object(O.jsx)(I,{}),Object(O.jsx)(p,{setSelectedImg:n}),c&&Object(O.jsx)(v,{selectedImg:c,setSelectedImg:n})]})]})},C=function(){return Object(O.jsxs)("div",{className:"not-found",children:[Object(O.jsx)("h2",{children:"Sorry !"}),Object(O.jsx)("p",{children:"The requested page may be in development"})]})};c(40);var A=function(){return Object(O.jsx)(r.a,{basename:"/",children:Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{path:"/",exact:!0,component:w}),Object(O.jsx)(l.a,{path:"*",component:C})]})})};s.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(A,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.f7673789.chunk.js.map